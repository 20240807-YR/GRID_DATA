# GRID_DATA

## 전체 프로젝트 구조 (Core-based Architecture)
| Core | 핵심 질문 | 검증 대상 |
| :--- | :--- | :--- |
| **Core 1** | 스마트그리드의 출발점은 무엇인가? | **AMI + 예측 구조** |
| **Core 2** | ESS는 제어를 어떻게 바꾸는가? | **EMS + ESS 규칙** |
| **Core 3** | 이 구조는 하나의 두뇌로 통합 가능한가? | **통합 ML 모델** |
| **Core 4** | 안정성은 어디서 만들어지는가? | **Grid-forming 제어 논리** |
| **Core 5** | 이 구조는 전력망 밖에서도 유효한가 | **의료 IoT 확장** |

---

## Core별 상세 수행 계획 및 실제 작업 정리

###  Core 1 — AMI 기반 부하 데이터 + 예측 (스마트그리드의 출발점 정의)
* 핵심 목표: AMI의 역할을 “실시간 계측 + 예측”이라는 데이터 구조로 검증한다.
* 수행 내용
    * AMI 부하 데이터 로드
    * 기상 데이터 결합
    * 부하 예측 ML 모델 학습
    * Actual vs Predicted Load 생성
* 검증 포인트
→ 예측은 스마트그리드의 옵션이 아니라 구조적 필수 요소임을 확인

### Core 2 — ESS 관점 EMS 시뮬레이션 (배터리 중심 제어 구조 비교)
* 핵심 목표: ESS 유무에 따라 EMS 제어 결과가 어떻게 달라지는지 구조적으로 비교한다.
* 수행 내용
    * ESS 제약(SOC, 출력 한계) 반영
    *  동일 규칙 기반 Reactive / Proactive EMS 비교
    *  시계열 결과 및 지표 CSV 생성
* 검증 포인트
→ 규칙이 아니라 입력 정보의 밀도가 제어 효과를 결정함

### Core 3 — 통합 ML 모델 (AMI + ESS + EMS 결합)
* 핵심 목표
부하 예측과 ESS 제어 결과를 단일 모델 입력 구조로 통합한다.
* 수행 내용
    * Core 1 예측 결과 결합
    * Core 2 제어 결과 결합
    * 통합 Feature 구성
    * 단일 ML 모델 학습 및 저장
* 검증 포인트
→ 스마트그리드의 “통합 EMS 두뇌”가 데이터로 구현 가능함을 확인

### Core 4 — Grid-forming 관점 제어 구조 검증 (안정성 메커니즘 분석)
* 핵심 목표 : Grid-forming을 장비 기술이 아닌 제어 구조의 문제로 재정의한다.
* 수행 내용
    * 피크 억제 효과 분석
    * 변화율(Ramp rate) 안정성 비교
    * Reactive / Proactive 구조 차이 설명
* 검증 포인트
→ 안정성은 장비 성능이 아니라 제어 논리의 설계 결과

### Core 5 — 의료 IoT 확장 (스마트그리드 구조의 타산업 적용)
* 핵심 목표 : 스마트그리드 구조가 의료 IoT에서도 작동 가능한지 검증한다.
* 수행 내용
    * AMI–의료 센서 구조 대응
    * ESS SOC–환자 reserve 개념 대응
    * EMS–의료 AI 의사결정 대응
    * MySQL 기반 통합 DB 구조 설계
* 검증 포인트
→ 스마트그리드는 에너지 기술이 아닌 산업 인프라 구조

---

## 파일 정리
### 📅 12월 18일: AMI 데이터 기반 전력 소비–날씨 분석 및 예측
* **전력 소비–기온 관계 분석** (12_18_기온전력소비.ipynb)
    * `amiwea.csv` 파일을 로드하고 `timestamp`를 `datetime`으로 파싱했습니다.
    * `timestamp`를 `index`로 설정했습니다.
    * 기온(temperature)과 전력 소비(consumption) 간 산점도를 생성했습니다.
    * 동일 시간대 기준으로 전력 소비와 기온을 `이중 y축 시계열`로 시각화했습니다.
 
* **런던 스마트미터(AMI) 원천 데이터 컬럼 정리** (12_18_런던지표컬럼정리.ipynb)
    * `런던계절별사용량.csv` 파일을 로드했습니다.
    * 컬럼명을 분석용으로 변경했습니다.
        * `LCLid` → `household_id`
        * `DateTime` → `timestamp`
        * `KWHhh` → `consumption`
     * 특정 가구(MAC000001) 데이터만 필터링한 후 불필요한 `Index`, `Tariff` 컬럼을 삭제 후 `timestamp` 컬럼을 `index`로 설정했습니다.
     * `런던날씨.csv` 파일을 로드해 시간 기준으로 결합했습니다.이후 결합된 데이터를 `data_csv/amiwea.csv`로 저장했습니다.

* **시간대별 평균 전력 소비 패턴 분석**  (12_18_시간대별평균소비.ipynb)
    * `amiwea.csv` 파일을 로드하고 `timestamp`를 `index`로 설정했습니다.
    * 시간대 분석을 위해 `hour` 컬럼을 생성했고 시간대별 평균 전력 소비를 계산하고 그래프로 시각화했습니다.
    * 요일 분석을 위해 `weekday` 컬럼을 생성했으며 요일·시간대별 평균 전력 소비 패턴을 시각화했습니다.

* **단기 전력 부하 예측 모델 학습** (12_18_예측ML.ipynb)
    *	`amiwea.csv` 파일을 로드했습니다.
    *	시간 파생 변수(`hour`, `dayofweek`)를 생성했습니다. 그리고 지연 변수(`lag_1`, `lag_24`)를 생성했습니다.
    *	결측치를 제거해 학습용 데이터셋을 구성했으며 입력 변수와 타깃 변수를 정의했습니다.
    *	RandomForest 회귀 모델을 학습하여 예측 결과에 대해 MAE, RMSE를 계산했습니다.
    *	실제값과 예측값을 시계열로 시각화하여 `Feature importance`를 계산했습니다.예측 결과를 `pred_rf_test.csv`로 저장했습니다.
    *	XGBoost 회귀 모델을 학습하여 예측 결과를 `pred_xgb_test.csv`로 저장했습니다.

* **전력 소비 시계열 구조 확인** (12_18_전력소비시계열.ipynb)
    * `amiwea.csv` 파일을 로드하고 `timestamp`를 `index`로 설정했습니다.
    * `info()`를 통해 데이터 구조를 확인 후 시간 단위 전력 소비 시계열을 시각화했습니다.
    * 일 단위 평균 전력 소비로 resampling 후 시각화했습니다.
